(this["webpackJsonppanda-react-less"]=this["webpackJsonppanda-react-less"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},3:function(e){e.exports=JSON.parse('{"CELLS_ON_PAGE":50,"NAMES_OF_TABLES":["First table","Second table","Third table"]}')},34:function(e,t,n){"use strict";n.r(t);var l=n(0),a=n(5),c=n.n(a),o=(n(19),n(20),n(3)),r=(n(21),n(22),n(23),n(1)),u=function(e){var t=e.pos,n=e.value,l=e.removeCell,a=e.handleChange;return Object(r.jsxs)("li",{className:"special-cell",children:[Object(r.jsx)("input",{type:"text",className:"special-cell__input",value:n,onChange:function(e){a(t,e.target.value)}}),Object(r.jsx)("button",{onClick:function(){l(t)},className:"special-cell__del-button"})]})},s=(n(25),n(2)),i=function(e){return{type:"NEW_CELLS",payload:e}},p=function(e){return{type:"CHANGE_PAGE_VALUE",payload:e}},f=Object(s.b)((function(e){return{page:e.pageReducer,cells:e.cellsReducer}}))((function(e){var t=e.page,n=e.cells,l=Object(s.c)();return Object(r.jsxs)("div",{className:"pagination",children:[Object(r.jsx)("button",{className:"pagination__button",onClick:function(){t>1&&l(p(t-1))},children:"<"}),Object(r.jsx)("div",{className:"pagination__page-number",children:t}),Object(r.jsx)("button",{className:"pagination__button",onClick:function(){n.length>t*o.CELLS_ON_PAGE&&l(p(t+1))},children:">"})]})})),d=n(14);function b(e,t,n){return e.slice((t-1)*n,t*n)}var v=Object(s.b)((function(e){return{cells:e.cellsReducer,page:e.pageReducer,filterState:e.filterReducer,filterTopDown:e.topDownFilterReducer}}))((function(e){var t,n=e.cells,a=e.page,c=e.filterState,p=e.filterTopDown,v=e.tableName,_=e.stateCallback,j=e.localState,O=Object(s.c)(),h=o.CELLS_ON_PAGE,E=function(e,t){var l=n.filter((function(n){return n.pos===e?n.value=t:n}));O(i(l)),_(v,n)},g=function(e){var t=n.filter((function(t){return t.pos===e?"":t}));O(i(t))};return Object(l.useEffect)((function(){var e=JSON.parse(j),t=e?e.find((function(t,n){if(t.table===v)return e[n]})):{table:"notable",values:"novalues"};"notable"!==t.table&&O(i(t.values))}),[]),Object(r.jsxs)("section",{className:"special-column",children:[Object(r.jsxs)("div",{className:"special-column__control-block",children:[Object(r.jsx)("input",{type:"text",className:"special-column__special-cell",value:c,onChange:function(e){return O({type:"NEW_FILTER_VALUE",payload:e.target.value})},name:"filterInput",placeholder:"Enter filter..."}),Object(r.jsx)("button",{onClick:function(){O({type:"NEW_CELL",payload:{pos:Object(d.v4)(),value:""}})},children:"Add New Cell"})]}),Object(r.jsxs)("div",{className:"special-column__cells-block",children:[Object(r.jsx)("button",{onClick:function(){"toDown"===p&&O({type:"FILTER_TO_TOP"}),"toTop"===p&&O({type:"FILTER_TO_DOWN"}),"default"===p&&O({type:"FILTER_TO_TOP"})},className:"special-column__cells-block_button",children:v}),Object(r.jsx)("ul",{className:"special-column__cells-list",children:null===(t=function(){var e=n.filter((function(e){return e.value.toUpperCase().includes(c.toUpperCase())?e:""}));if(""===c){if("toTop"===p)return b(n.sort((function(e,t){return t.value.length-e.value.length})),a,h);if("toDown"===p)return b(n.sort((function(e,t){return e.value.length-t.value.length})),a,h)}return b("toTop"===p?e.sort((function(e,t){return t.value.length-e.value.length})):"toDown"===p?e.sort((function(e,t){return e.value.length-t.value.length})):e,a,h)}())||void 0===t?void 0:t.map((function(e){return Object(r.jsx)(u,{value:e.value,pos:e.pos,handleChange:E,removeCell:g},e.pos)}))})]}),Object(r.jsx)(f,{})]})})),_=n(4),j=n(10),O=[{pos:"default1",value:""},{pos:"default2",value:""},{pos:"default3",value:""}],h=Object(_.b)({cellsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_CELL":case"NEW_CELL_VALUE":return[].concat(Object(j.a)(e),[t.payload]);case"NEW_CELLS":case"LOAD_CELLS":return t.payload;default:return e}},filterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_FILTER_VALUE":return t.payload;default:return e}},topDownFilterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_TO_TOP":return"toTop";case"FILTER_TO_DOWN":return"toDown";default:return e}},pageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAGE_VALUE":return t.payload;default:return e}}}),E="localColumnsStorage";function g(e){var t=e.arrOfNames,n=t.map((function(e){return{table:e,values:[]}})),l=function(e,t){n.find((function(l,a){if(l.table===e)return n[a]={table:e,values:t},!0}))};return Object(r.jsxs)("section",{className:"special-table",children:[Object(r.jsx)("div",{className:"special-table__columns",children:t.map((function(e){return function(e,t,n){var l=Object(_.c)(h);return Object(r.jsx)(s.a,{store:l,children:Object(r.jsx)(v,{stateCallback:t,tableName:e,localState:n})},e)}(e,l,localStorage.getItem(E))}))}),Object(r.jsx)("button",{onClick:function(){var e;e=n,localStorage.setItem(E,JSON.stringify(e))},className:"special-table__save-button",children:"GLOBAL SAVE"})]})}function N(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)("div",{className:"page",children:Object(r.jsx)(g,{arrOfNames:o.NAMES_OF_TABLES})})})}c.a.render(Object(r.jsx)(N,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.76779de2.chunk.js.map